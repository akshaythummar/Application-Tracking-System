"use strict";(self.webpackChunkfinal_project_structure=self.webpackChunkfinal_project_structure||[]).push([[847],{6847:(M,x,i)=>{i.r(x),i.d(x,{InterviewCycleModule:()=>U});var _=i(6895),m=i(9299),a=i(4006),t=i(4650),v=i(6783),u=i(4859),S=i(4144),p=i(9549);let b=(()=>{class n{constructor(e){this.interviewService=e,this.stages=[],this.NoWhitespaceRegExp=new RegExp("\\S"),this.addStage=new a.cw({stagename:new a.NI("",a.kI.compose([a.kI.required,a.kI.pattern(this.NoWhitespaceRegExp)]))}),this.interviewService.getStages().subscribe(o=>{this.stages=o})}addNewStage(){this.interviewService.addStage(this.addStage.value.stagename).subscribe(e=>{console.log(e)}),this.interviewService.getStages()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.Z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["addstage-dialog"]],decls:10,vars:2,consts:[[1,"dialog-title"],[1,"dialog-container"],[3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","formControlName","stagename"],["mat-raised-button","",1,"add-btn",3,"disabled","click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._uU(1,"Add Stage"),t.qZA(),t.TgZ(2,"div",1)(3,"form",2),t.NdJ("ngSubmit",function(){return o.addNewStage}),t.TgZ(4,"mat-form-field",3)(5,"mat-label"),t._uU(6,"Enter Stage Name"),t.qZA(),t._UZ(7,"input",4),t.qZA(),t.TgZ(8,"button",5),t.NdJ("click",function(){return o.addNewStage()}),t._uU(9," Add New Stage "),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("formGroup",o.addStage),t.xp6(5),t.Q6J("disabled",o.addStage.invalid))},dependencies:[u.lW,S.Nt,p.KE,p.hX,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],styles:[".dialog-container[_ngcontent-%COMP%]{max-width:600px;padding-left:20%;padding-top:5%;padding-right:10%;display:flex;justify-content:center;flex-direction:column}.dialog-title[_ngcontent-%COMP%]{display:flex;height:50px;padding-left:10px;align-items:center;font-size:large;font-weight:700;color:#fff;vertical-align:middle;background-color:var(--main-color)}form[_ngcontent-%COMP%]{padding-top:20px}mat-form-field[_ngcontent-%COMP%]{padding-top:10px;width:80%;min-width:20%}button[_ngcontent-%COMP%]{margin-top:10px;width:80%}.add-btn[_ngcontent-%COMP%]{background-color:var(--main-color)!important;color:#fff!important;font-weight:400;font-size:1.25rem}mat-label[_ngcontent-%COMP%]{color:var(--text-color)}mat-select[_ngcontent-%COMP%]{color:var(--text-color)}mat-option-value[_ngcontent-%COMP%]{color:var(--text-color)}"]}),n})();var f=i(3238),y=i(4385);function d(n,r){if(1&n&&(t.TgZ(0,"mat-option",9),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.s9C("value",e.stageId),t.xp6(1),t.hij(" ",e.stageName," ")}}function c(n,r){if(1&n&&(t.ynx(0),t.YNc(1,d,2,2,"mat-option",8),t.BQk()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",e.isActive)}}let s=(()=>{class n{constructor(e){this.interviewService=e,this.stages=[],this.NoWhitespaceRegExp=new RegExp("\\S"),this.addRound=new a.cw({stagename:new a.NI("",a.kI.required),stageround:new a.NI("",a.kI.compose([a.kI.required,a.kI.pattern(this.NoWhitespaceRegExp)]))}),this.interviewService.getStages().subscribe(o=>{this.stages=o})}addRoundToSelectedStage(){this.interviewService.addRoundToSelectedStage(this.addRound.value.stagename,this.addRound.value.stageround).subscribe(e=>{console.log(e)})}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.Z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["addround-dialog"]],decls:15,vars:3,consts:[[1,"dialog-title"],[1,"dialog-container"],[3,"formGroup","ngSubmit"],["appearance","outline"],["formControlName","stagename"],[4,"ngFor","ngForOf"],["formControlName","stageround","matInput",""],["mat-raised-button","","type","submit",1,"add-btn",3,"disabled"],[3,"value",4,"ngIf"],[3,"value"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._uU(1,"Add Round"),t.qZA(),t.TgZ(2,"div",1)(3,"form",2),t.NdJ("ngSubmit",function(){return o.addRoundToSelectedStage()}),t.TgZ(4,"mat-form-field",3)(5,"mat-label"),t._uU(6,"Select Stage"),t.qZA(),t.TgZ(7,"mat-select",4),t.YNc(8,c,2,1,"ng-container",5),t.qZA()(),t.TgZ(9,"mat-form-field",3)(10,"mat-label"),t._uU(11,"Add New Round"),t.qZA(),t._UZ(12,"input",6),t.qZA(),t.TgZ(13,"button",7),t._uU(14," Add Round to Selected Stage "),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("formGroup",o.addRound),t.xp6(5),t.Q6J("ngForOf",o.stages),t.xp6(5),t.Q6J("disabled",o.addRound.invalid))},dependencies:[_.sg,_.O5,u.lW,f.ey,S.Nt,p.KE,p.hX,y.gD,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],styles:[".dialog-container[_ngcontent-%COMP%]{max-width:600px;padding-left:20%;padding-top:5%;padding-right:10%;display:flex;justify-content:center;flex-direction:column}.dialog-title[_ngcontent-%COMP%]{display:flex;height:50px;padding-left:10px;align-items:center;font-size:large;font-weight:700;color:#fff;vertical-align:middle;background-color:var(--main-color)}form[_ngcontent-%COMP%]{padding-top:20px}mat-form-field[_ngcontent-%COMP%]{padding-top:10px;width:80%;min-width:20%}button[_ngcontent-%COMP%]{margin-top:10px;width:80%}.add-btn[_ngcontent-%COMP%]{background-color:var(--main-color)!important;color:#fff!important;font-weight:400;font-size:1.25rem}mat-label[_ngcontent-%COMP%]{color:var(--text-color)}mat-select[_ngcontent-%COMP%]{color:var(--text-color)}mat-option-value[_ngcontent-%COMP%]{color:var(--text-color)}"]}),n})();var g=i(5412);let A=(()=>{class n{constructor(e,o){this.interviewService=e,this.data=o,this.stages=[],this.NoWhitespaceRegExp=new RegExp("\\S"),this.editStage=new a.cw({stagename:new a.NI(this.data.stageName,a.kI.compose([a.kI.required,a.kI.pattern(this.NoWhitespaceRegExp)])),stagesequence:new a.NI(this.data.sequenceNo,[a.kI.required])})}editStageDetails(){this.interviewService.updateStageDetails(this.data.stageId,this.editStage.value.stagename,this.editStage.value.stagesequence).subscribe(e=>{console.log(e)}),this.interviewService.getStages()}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.Z),t.Y36(g.WI))},n.\u0275cmp=t.Xpm({type:n,selectors:[["editstage-dialog"]],decls:14,vars:2,consts:[[1,"dialog-title"],[1,"dialog-container"],[3,"formGroup","submit"],["appearance","outline"],["matInput","","formControlName","stagename"],["type","number","formControlName","stagesequence","min","1","matInput",""],["mat-raised-button","","type","submit",1,"add-btn",3,"disabled"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._uU(1,"Edit Stage"),t.qZA(),t.TgZ(2,"div",1)(3,"form",2),t.NdJ("submit",function(){return o.editStageDetails()}),t.TgZ(4,"mat-form-field",3)(5,"mat-label"),t._uU(6,"Stage Name"),t.qZA(),t._UZ(7,"input",4),t.qZA(),t.TgZ(8,"mat-form-field",3)(9,"mat-label"),t._uU(10,"Stage Sequence"),t.qZA(),t._UZ(11,"input",5),t.qZA(),t.TgZ(12,"button",6),t._uU(13," Update Stage "),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("formGroup",o.editStage),t.xp6(9),t.Q6J("disabled",o.editStage.invalid))},dependencies:[u.lW,S.Nt,p.KE,p.hX,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.qQ,a.sg,a.u],styles:[".dialog-container[_ngcontent-%COMP%]{max-width:600px;padding-left:20%;padding-top:5%;padding-right:10%;display:flex;justify-content:center;flex-direction:column}.dialog-title[_ngcontent-%COMP%]{display:flex;height:50px;padding-left:10px;align-items:center;font-size:large;font-weight:700;color:#fff;vertical-align:middle;background-color:var(--main-color)}form[_ngcontent-%COMP%]{padding-top:20px}mat-form-field[_ngcontent-%COMP%]{padding-top:10px;width:80%;min-width:20%}button[_ngcontent-%COMP%]{margin-top:10px;width:80%}.add-btn[_ngcontent-%COMP%]{background-color:var(--main-color)!important;color:#fff!important;font-weight:400;font-size:1.25rem}mat-label[_ngcontent-%COMP%]{color:var(--text-color)}mat-select[_ngcontent-%COMP%]{color:var(--text-color)}mat-option-value[_ngcontent-%COMP%]{color:var(--text-color)}"]}),n})();var O=i(455),I=i(7392),C=i(3546),Z=i(6338);function T(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"mat-list")(1,"mat-list-item",8),t.NdJ("click",function(){const w=t.CHM(e).$implicit,h=t.oxw();return t.KtG(h.getRoundsByStage(w.stageId))}),t.TgZ(2,"span",9)(3,"span",10),t._uU(4),t.qZA(),t.TgZ(5,"button",11),t.NdJ("click",function(l){const h=t.CHM(e).$implicit;return t.oxw().openEditStageDialog(h.stageId,h.stageName,h.sequenceNo),t.KtG(l.stopPropagation())}),t.TgZ(6,"mat-icon",12),t._uU(7,"edit"),t.qZA()(),t.TgZ(8,"mat-slide-toggle",13),t.NdJ("change",function(){const w=t.CHM(e).$implicit,h=t.oxw();return t.KtG(h.updateStageStatus(w))}),t.qZA()()()()}if(2&n){const e=r.$implicit;t.xp6(4),t.Oqu(e.stageName),t.xp6(1),t.Q6J("disabled",!e.isActive),t.xp6(3),t.Q6J("checked",e.isActive)}}function P(n,r){if(1&n&&(t.TgZ(0,"mat-list")(1,"mat-list-item")(2,"span",9),t._uU(3),t.qZA()()()),2&n){const e=r.$implicit;t.xp6(3),t.hij(" ",e.roundName," ")}}const N=[{path:"",component:(()=>{class n{constructor(e,o){this.dialog=e,this.interviewService=o,this.stages=[],this.rounds=[],this.interviewService.getStages().subscribe(l=>{this.stages=l})}ngOnInit(){}getRoundsByStage(e){this.interviewService.getRoundsByStage(e).subscribe(o=>{this.rounds=o})}updateStageStatus(e){e.isActive=!e.isActive,this.interviewService.updateStageStatus(e.stageId,e.isActive).subscribe(o=>{console.log(o)})}openStageDialog(){this.dialog.open(b,{width:"600px",height:"400px"})}openRoundDialog(){this.dialog.open(s,{width:"600px",height:"400px"}).afterClosed().subscribe(()=>{this.interviewService.getStages()})}openEditStageDialog(e,o,l){this.dialog.open(A,{width:"600px",height:"400px",data:{stageId:e,stageName:o,sequenceNo:l}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.uw),t.Y36(v.Z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-interview-cycle"]],decls:34,vars:2,consts:[[1,"main"],[1,"heading"],[1,"head-span"],[1,"main-container"],[1,"card-header"],["mat-mini-fab","",1,"mat-mini",3,"click"],[1,"stages-title"],[4,"ngFor","ngForOf"],[3,"click"],[1,"stage-list"],[1,"stage-name"],["mat-icon-button","",1,"edit-btn",3,"disabled","click"],[1,"edit-icon"],["color","var(--main-color)",3,"checked","change"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2")(3,"span",2),t._uU(4,"admin >"),t.qZA(),t._uU(5," Manage Interview"),t.qZA(),t._UZ(6,"hr"),t.qZA(),t.TgZ(7,"div",3)(8,"mat-card")(9,"mat-card-header",4)(10,"mat-card-title"),t._uU(11,"Stages"),t.qZA(),t.TgZ(12,"button",5),t.NdJ("click",function(){return o.openStageDialog()}),t.TgZ(13,"mat-icon"),t._uU(14,"add"),t.qZA()()(),t.TgZ(15,"div",6)(16,"mat-card-subtitle"),t._uU(17,"Stage Name"),t.qZA(),t.TgZ(18,"mat-card-subtitle"),t._uU(19,"Stage Status"),t.qZA()(),t.TgZ(20,"mat-card-content"),t.YNc(21,T,9,3,"mat-list",7),t.qZA()(),t.TgZ(22,"mat-card")(23,"mat-card-header",4)(24,"mat-card-title"),t._uU(25,"Rounds"),t.qZA(),t.TgZ(26,"button",5),t.NdJ("click",function(){return o.openRoundDialog()}),t.TgZ(27,"mat-icon"),t._uU(28,"add"),t.qZA()()(),t.TgZ(29,"div",6)(30,"mat-card-subtitle"),t._uU(31,"Round Name"),t.qZA()(),t.TgZ(32,"mat-card-content"),t.YNc(33,P,4,1,"mat-list",7),t.qZA()()()()),2&e&&(t.xp6(21),t.Q6J("ngForOf",o.stages),t.xp6(12),t.Q6J("ngForOf",o.rounds))},dependencies:[_.sg,O.Rr,u.RK,u.nh,I.Hw,C.a8,C.dn,C.dk,C.$j,C.n5,Z.i$,Z.Tg],styles:[".main[_ngcontent-%COMP%]{background-color:var(--background-color);min-height:100%;padding:0rem 2rem 3rem}.main-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.stage-list[_ngcontent-%COMP%], .stages-title[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}mat-card[_ngcontent-%COMP%]{flex:0 0 calc(50% - 1.5rem);margin-bottom:1.5rem;background-color:#fff;border-radius:.5rem;box-shadow:var(--box-shadow);padding:2.5rem;margin-top:1rem;min-height:30rem;min-width:25rem;height:100%;font-size:1.25rem;font-weight:500}mat-list-item[_ngcontent-%COMP%]:hover{background-color:#e6e6e6;cursor:pointer}mat-card-subtitle[_ngcontent-%COMP%]{margin-left:16px}mat-card-header[_ngcontent-%COMP%], .stages-title[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;margin-bottom:1.5rem}mat-card-content[_ngcontent-%COMP%]{height:30rem;overflow-y:auto}.mat-mini[_ngcontent-%COMP%]{background-color:var(--main-color)!important;margin-right:16px}mat-card-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:500;color:var(--text-color)}mat-list-item[_ngcontent-%COMP%]{margin-top:.15rem;margin-bottom:.5rem;border-radius:5px;font-size:1.25rem;font-weight:500;border:solid 1px #474747}.edit-icon[_ngcontent-%COMP%]{font-size:20px;margin-left:10%}.stage-name[_ngcontent-%COMP%]{width:24rem!important}.heading[_ngcontent-%COMP%]{margin-bottom:2rem}.head-span[_ngcontent-%COMP%]{color:#6a6969}h2[_ngcontent-%COMP%]{padding:1rem;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;color:#012970}"]}),n})()}];let E=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[m.Bz.forChild(N),m.Bz]}),n})();var R=i(8807);let U=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[_.ez,E,R.Q,a.UX,a.u5]}),n})()},6783:(M,x,i)=>{i.d(x,{Z:()=>b});var _=i(1135),m=i(2843),a=i(262),t=i(8505),v=i(4004),u=i(4650),S=i(529),p=i(7009);let b=(()=>{class f{constructor(d,c){this.http=d,this.snackBar=c,this._apiUrl="http://192.168.102.92:8002/main/api/admin",this.stages=new _.X([])}getStages(){return this.http.get(`${this._apiUrl}/getAllStage`).pipe((0,a.K)(()=>(0,m._)(()=>{this.snackBar.open("Error getting stages","",{duration:3e3})}))).subscribe(d=>{this.stages.next(d)}),this.stages}addRoundToSelectedStage(d,c){return this.http.post(`${this._apiUrl}/stage/${d}`,{roundName:c}).pipe((0,a.K)(g=>(console.error("Error adding round to selected stage",g),(0,m._)(()=>{this.snackBar.open("Error adding round to selected stage","",{duration:3e3})}))),(0,t.b)(g=>{g&&this.snackBar.open("Round added successfully!","",{duration:3e3})}))}addStage(d){return this.http.post(`${this._apiUrl}/addStage`,{stageName:d}).pipe((0,a.K)(s=>(console.error("Error adding new stage",s),(0,m._)(()=>{this.snackBar.open("Error adding newstage ","",{duration:3e3})}))),(0,t.b)(s=>(s&&this.snackBar.open("Stage Added Successfully!","",{duration:3e3}),s)))}getRoundsByStage(d){return this.http.get(`${this._apiUrl}/getAllStage`).pipe((0,a.K)(c=>(console.error("Error getting rounds by stage",c),(0,m._)(()=>{this.snackBar.open("Error getting rounds by stage ","",{duration:3e3})}))),(0,v.U)(c=>c.filter(s=>s.stageId===d).flatMap(s=>s.rounds.map(g=>({roundId:g.roundId,roundName:g.roundName,createdTime:g.createdTime,createdBy:g.createdBy})))))}updateStageStatus(d,c){return this.http.put(`${this._apiUrl}/updateStageStatus/${d}`,{responseType:"application/text"},{params:{stageId:d,isActive:c}}).pipe((0,a.K)(s=>(console.error("Error updating stage status",s),(0,m._)(()=>{this.snackBar.open("Updated Stage Status Successfully ","",{duration:3e3})}))))}updateStageDetails(d,c,s){return this.http.put(`${this._apiUrl}/updateStage/`+d,{stageName:c,sequenceNo:parseInt(s)}).pipe((0,a.K)(g=>(console.error("Error updating stage details",g),(0,m._)(()=>{this.snackBar.open("Error updating stage details ","",{duration:3e3})}))),(0,t.b)(g=>{g&&this.snackBar.open("Stage Detail's Updated Successfully!","",{duration:3e3})}))}}return f.\u0275fac=function(d){return new(d||f)(u.LFG(S.eN),u.LFG(p.ux))},f.\u0275prov=u.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()}}]);